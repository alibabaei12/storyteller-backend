2025-06-13 19:27:33,755 - werkzeug - INFO -  * Debugger PIN: 143-601-283
2025-06-13 19:47:25,718 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:25] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 19:47:25,720 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:25] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 19:47:25,722 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:25] "GET /api/status HTTP/1.1" 200 -
2025-06-13 19:47:25,724 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:25] "GET /api/status HTTP/1.1" 200 -
2025-06-13 19:47:32,453 - app.services.firebase_service - ERROR - Error initializing with FIREBASE_CREDENTIALS: Invalid control character at: line 1 column 162 (char 161)
2025-06-13 19:47:32,453 - app.services.firebase_service - ERROR - Error initializing with direct credentials: Failed to initialize a certificate credential. Caused by: "Unable to load PEM file. See https://cryptography.io/en/latest/faq/#why-can-t-i-import-my-pem-file for more details. InvalidData(InvalidByte(1600, 61))"
2025-06-13 19:47:32,454 - app.services.firebase_service - ERROR - Error creating temporary service account file: Failed to initialize a certificate credential. Caused by: "Unable to load PEM file. See https://cryptography.io/en/latest/faq/#why-can-t-i-import-my-pem-file for more details. InvalidData(InvalidByte(1600, 61))"
2025-06-13 19:47:32,515 - app.services.firebase_service - INFO - Initialized with default credentials
2025-06-13 19:47:32,572 - app.auth - INFO - Using Firebase Project ID: storyteller-6deea
2025-06-13 19:47:32,572 - app.auth - WARNING - DEVELOPMENT MODE: Using simplified token validation
2025-06-13 19:47:32,576 - root - INFO - Starting StoryTeller API server...
2025-06-13 19:47:32,576 - root - INFO - Host: 0.0.0.0
2025-06-13 19:47:32,577 - root - INFO - Port: 5001
2025-06-13 19:47:32,577 - root - INFO - Debug mode: True
2025-06-13 19:47:32,582 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.0.243:5001
2025-06-13 19:47:32,582 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-13 19:47:32,583 - werkzeug - INFO -  * Restarting with stat
2025-06-13 19:47:32,937 - app.services.firebase_service - ERROR - Error initializing with FIREBASE_CREDENTIALS: Invalid control character at: line 1 column 162 (char 161)
2025-06-13 19:47:32,937 - app.services.firebase_service - ERROR - Error initializing with direct credentials: Failed to initialize a certificate credential. Caused by: "Unable to load PEM file. See https://cryptography.io/en/latest/faq/#why-can-t-i-import-my-pem-file for more details. InvalidData(InvalidByte(1600, 61))"
2025-06-13 19:47:32,937 - app.services.firebase_service - ERROR - Error creating temporary service account file: Failed to initialize a certificate credential. Caused by: "Unable to load PEM file. See https://cryptography.io/en/latest/faq/#why-can-t-i-import-my-pem-file for more details. InvalidData(InvalidByte(1600, 61))"
2025-06-13 19:47:33,003 - app.services.firebase_service - INFO - Initialized with default credentials
2025-06-13 19:47:33,064 - app.auth - INFO - Using Firebase Project ID: storyteller-6deea
2025-06-13 19:47:33,064 - app.auth - WARNING - DEVELOPMENT MODE: Using simplified token validation
2025-06-13 19:47:33,069 - root - INFO - Starting StoryTeller API server...
2025-06-13 19:47:33,069 - root - INFO - Host: 0.0.0.0
2025-06-13 19:47:33,069 - root - INFO - Port: 5001
2025-06-13 19:47:33,069 - root - INFO - Debug mode: True
2025-06-13 19:47:33,071 - werkzeug - WARNING -  * Debugger is active!
2025-06-13 19:47:33,078 - werkzeug - INFO -  * Debugger PIN: 143-601-283
2025-06-13 19:47:35,231 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:35] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 19:47:35,232 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:35] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 19:47:35,235 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:35] "GET /api/status HTTP/1.1" 200 -
2025-06-13 19:47:35,237 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:35] "GET /api/status HTTP/1.1" 200 -
2025-06-13 19:47:47,479 - app.services.firebase_service - INFO - Retrieved 2 stories
2025-06-13 19:47:47,479 - app.storage.storage - INFO - Retrieved 2 stories
2025-06-13 19:47:47,481 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:47] "OPTIONS /api/stories HTTP/1.1" 200 -
2025-06-13 19:47:47,485 - app.auth - INFO - Authentication successful for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 19:47:47,643 - app.services.firebase_service - INFO - Retrieved 2 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 19:47:47,644 - app.storage.storage - INFO - Retrieved 2 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 19:47:47,883 - app.services.ai_service - INFO - Generated big story goal: Forge a unique cultivation path rejected by the world, overcoming divine resistance to prove your Dao is supreme.
2025-06-13 19:47:47,884 - app.services.ai_service - INFO - Using cultivation genre for initial story
2025-06-13 19:47:47,884 - app.services.story_planner - INFO - Calculated number of arcs: 7 based on 50 chapters and 7 chapters per arc
2025-06-13 19:47:47,884 - app.services.story_planner - INFO - Found exact match for goal: 'Forge a unique cultivation path rejected by the world, overcoming divine resistance to prove your Dao is supreme.'
2025-06-13 19:47:47,884 - app.services.story_planner - INFO - Generated 7 new arc goals for theme: 'unique_dao'
2025-06-13 19:47:47,885 - app.genres.cultivation_setting - INFO - Generated 7 arc goals. Initial arc goal: Challenge the heavens or divine guardians defending the status quo.
2025-06-13 19:47:47,885 - app.genres.cultivation_setting - INFO - Generating cultivation progression story for Ali
2025-06-13 19:47:47,885 - app.models.base_genre - INFO - Generating story for Ali
2025-06-13 19:47:55,666 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-13 19:47:55,672 - app.models.base_genre - INFO - ðŸŽ­ GENRE GPT RESPONSE (2659 chars):
2025-06-13 19:47:55,672 - app.models.base_genre - INFO - ============================================================
2025-06-13 19:47:55,673 - app.models.base_genre - INFO - [STORY]
In a vast, mountainous region surrounded by swirling mists, Ali, a young cultivator with piercing eyes and unruly black hair, stands atop a rocky cliff. His energy, a vibrant azure Qi, crackles around him, reflecting his determination to challenge the heavens themselves.

---
The wind howls, carrying the whispers of ancient spirits, as Ali recalls his past life's memories. His knowledge of forbidden cultivation methods and unconventional insights fuel his resolve to forge a path no one dares tread, despite the divine resistance he faces.

---
Suddenly, the sky darkens, and thunder rumbles ominously. A colossal phoenix, its feathers ablaze with divine flames, descends from the heavens, blocking Ali's path. It is the guardian appointed by the heavens to uphold the status quo and thwart any who dare defy it.

---
With a steely gaze, Ali channels his Qi, unleashing his unique technique, the Azure Inferno Palm. Waves of azure flames surge towards the phoenix, clashing with its divine fire in a spectacular display of power and will.

---
As the intense clash of energies fills the air, Ali's mind races with strategies drawn from ancient texts and memories. He maneuvers with precision, exploiting weaknesses in the phoenix's defenses, all while staying one step ahead in this celestial battle.

---
In a moment of brief respite, Ali locks eyes with the phoenix, a silent challenge passing between them. The guardian eyes him warily, recognizing a determination and resolve that transcends mortal limitations.

---
With a final burst of energy, Ali executes a daring maneuver, shattering the phoenix's defenses and landing a decisive blow. The guardian lets out a deafening cry before dispersing into shimmering motes of light, leaving Ali standing victorious amidst the fading echoes of battle.

---
The mountain falls silent once more, the mists parting to reveal a hidden path leading deeper into the cultivation realm. Ali takes a deep breath, knowing that this victory is only the beginning of his quest to challenge the heavens and forge his unique Dao.

[EMOTIONAL REFLECTION]
Ali's past life memories surge within him, guiding his every move with wisdom beyond his years. The rejection and ridicule he faced in his previous life drive him to prove that his unorthodox path holds the key to true cultivation mastery.

[/STORY]

[CHOICES]
1. Channel the residual energy from the battle to seek out hidden ley lines for a power boost.
2. Meditate on the recent battle to gain deeper insights into your Qi manipulation techniques.
3. Explore the newly revealed path, seeking clues about the next divine guardian to challenge.

[/CHOICES]
2025-06-13 19:47:55,673 - app.models.base_genre - INFO - ============================================================
2025-06-13 19:47:55,674 - app.models.base_genre - INFO - Successfully parsed genre response: story=2333 chars, choices=3
2025-06-13 19:47:55,674 - app.storage.storage - INFO - Using provided arc goals: 7 goals
2025-06-13 19:47:55,674 - app.storage.storage - INFO - Using provided arc goal: Challenge the heavens or divine guardians defending the status quo.
2025-06-13 19:47:55,674 - app.storage.storage - INFO - Initialized memory with big goal: 'Forge a unique cultivation path rejected by the world, overcoming divine resistance to prove your Dao is supreme.' and arc goal: 'Challenge the heavens or divine guardians defending the status quo.'
2025-06-13 19:47:55,675 - app.storage.storage - INFO - Arc progression: 1/7, Chapter: 1/7
2025-06-13 19:47:55,675 - app.storage.storage - INFO - Overall story progress: Chapter 1/50 (2%)
2025-06-13 19:47:55,815 - app.services.firebase_service - INFO - Saved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:55,815 - app.storage.storage - INFO - Saved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:55,816 - app.storage.storage - INFO - Created new story: story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:55,816 - app.services.story_planner - INFO - No [NEW CHARACTERS] section found, using simplified detection
2025-06-13 19:47:55,950 - app.services.firebase_service - INFO - Saved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:55,951 - app.storage.storage - INFO - Saved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:55,951 - app.api - INFO - Extracted characters from initial story content for Ali
2025-06-13 19:47:56,177 - app.services.usage_service - INFO - Updated usage for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 19:47:56,469 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:56] "POST /api/stories HTTP/1.1" 200 -
2025-06-13 19:47:56,676 - app.services.firebase_service - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:56,676 - app.storage.storage - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:56,677 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:56] "OPTIONS /api/stories/story_1749869275_0a94b74e HTTP/1.1" 200 -
2025-06-13 19:47:56,726 - app.services.firebase_service - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:56,726 - app.storage.storage - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:56,728 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:56] "OPTIONS /api/stories/story_1749869275_0a94b74e HTTP/1.1" 200 -
2025-06-13 19:47:56,803 - app.services.firebase_service - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:56,804 - app.storage.storage - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:56,805 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:56] "GET /api/stories/story_1749869275_0a94b74e HTTP/1.1" 200 -
2025-06-13 19:47:56,908 - app.services.firebase_service - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:56,908 - app.storage.storage - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:47:56,910 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:47:56] "GET /api/stories/story_1749869275_0a94b74e HTTP/1.1" 200 -
2025-06-13 19:48:17,407 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:48:17] "OPTIONS /api/stories/story_1749869275_0a94b74e/choices/2 HTTP/1.1" 200 -
2025-06-13 19:48:17,411 - app.auth - INFO - Authentication successful for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 19:48:17,533 - app.services.firebase_service - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:17,534 - app.storage.storage - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:17,860 - app.services.usage_service - INFO - Updated usage for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 19:48:17,968 - app.services.firebase_service - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:17,969 - app.storage.storage - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:18,105 - app.services.firebase_service - INFO - Saved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:18,106 - app.storage.storage - INFO - Saved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:18,107 - app.storage.storage - INFO - Saved choice 2 for node initial in story story_1749869275_0a94b74e
2025-06-13 19:48:18,108 - app.api - INFO - Generating continuation for story story_1749869275_0a94b74e, choice 2
2025-06-13 19:48:18,108 - app.api - INFO - Character: Ali, Setting: cultivation
2025-06-13 19:48:18,108 - app.api - INFO - Selected choice: 'Meditate on the recent battle to gain deeper insights into your Qi manipulation techniques.'
2025-06-13 19:48:18,109 - app.services.ai_service - INFO - Memory before processing - chapters_completed: 0, current_arc_index: 0, chapters_per_arc: 7
2025-06-13 19:48:18,109 - app.services.ai_service - INFO - Memory arcs: 7 arcs total
2025-06-13 19:48:18,109 - app.services.ai_service - INFO - Current arc: 'Challenge the heavens or divine guardians defending the status quo.'
2025-06-13 19:48:18,109 - app.services.ai_service - INFO - Chapter 1 of arc 'Challenge the heavens or divine guardians defending the status quo.' completed
2025-06-13 19:48:18,109 - app.services.ai_service - INFO - Using cultivation genre for story continuation
2025-06-13 19:48:18,109 - app.services.ai_service - INFO - Using big story goal for cultivation continuation: Forge a unique cultivation path rejected by the world, overcoming divine resistance to prove your Dao is supreme.
2025-06-13 19:48:18,110 - app.genres.cultivation_setting - INFO - Continuing cultivation progression story for Ali with style: shonen
2025-06-13 19:48:18,110 - app.models.base_genre - INFO - Generating story for Ali
2025-06-13 19:48:29,149 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-13 19:48:29,154 - app.models.base_genre - INFO - ðŸŽ­ GENRE GPT RESPONSE (3805 chars):
2025-06-13 19:48:29,154 - app.models.base_genre - INFO - ============================================================
2025-06-13 19:48:29,154 - app.models.base_genre - INFO - [STORY]
The aftermath of the intense battle left Ali standing amidst the fading echoes of the phoenix's defeat. As he closed his eyes to meditate, the azure Qi around him pulsed with a newfound intensity, resonating with the battleâ€™s energy. In his mind's eye, he replayed each move, each surge of power, seeking deeper understanding.

---
Visions from his past life intertwined with his current experiences, guiding him through the intricate details of his Qi manipulation techniques. The azure flames danced with a renewed vigor, responding to Ali's focused meditation. Every flicker of energy revealed layers of complexity and untapped potential, waiting to be harnessed.

---
As Ali delved deeper into his meditation, a sense of calm washed over him. The memories of past battles and ancient texts merged seamlessly, expanding his insights beyond conventional boundaries. His understanding of the Azure Inferno Palm deepened, revealing subtle nuances that promised even greater power in future conflicts.

---
However, in the midst of his meditation, a ripple of discord disrupted the tranquility. A shadowy figure emerged from the surrounding mist, its form obscured by darkness. Its voice, laced with malice, cut through the serene atmosphere, "So, the young upstart thinks he can challenge the heavens. How amusing."

---
Ali's eyes snapped open, his gaze locking onto the mysterious figure. Unfazed by the intrusion, he rose to his feet, ready to face this new challenge head-on. The figure smirked, revealing a set of gleaming teeth, "Let's see if your so-called unique path can withstand the test of true power."

---
With a swift motion, the figure unleashed a burst of dark energy, aiming directly at Ali. Reacting instinctively, Ali called upon his Azure Inferno Palm, weaving intricate patterns of azure Qi to counter the dark blast. The clash of energies illuminated the surroundings, casting dramatic shadows across the rocky terrain.

---
As the confrontation intensified, Ali could sense the figure's malevolent intent, a stark contrast to the honor and resolve he had faced in the battle against the phoenix. This adversary sought not to uphold balance but to disrupt it, challenging Ali's very core beliefs and determination.

---
Despite the chaos unfolding around him, Ali remained steadfast, drawing strength from his past life's memories and the unyielding conviction that his Dao was destined for greatness. The clash of energies continued, each flare of azure and darkness symbolizing the ongoing struggle between tradition and innovation.

---
In a moment of brief respite, Ali's gaze met the figure's once more, a silent declaration of his unwavering resolve. The challenge had only just begun, but Ali was prepared to face whatever trials lay ahead in his quest to challenge the heavens and forge his unique Dao.

[EMOTIONAL REFLECTION]
Ali's past life memories resonated within him, guiding his every move with a blend of ancient wisdom and modern determination. The encounter with the mysterious figure stirred a deep sense of defiance, a reminder of the rejection and ridicule he had faced beforeâ€”and his unwavering resolve to prove them all wrong.

[NEW CHARACTERS]
Name: Shadowy Adversary
Relationship: Antagonist
Role: Mysterious figure challenging Ali's path with dark energy and malevolent intent
[/NEW CHARACTERS]
 
[CHOICES]
1. Engage the Shadowy Adversary directly in a fierce confrontation, seeking to overcome their dark energy with your Azure Inferno Palm.
2. Attempt to reason with the Shadowy Adversary, aiming to uncover their motives and potentially turn them into an ally through dialogue and understanding.
3. Retreat temporarily to analyze the Shadowy Adversary's techniques and weaknesses, planning a strategic approach for the next encounter.
[/CHOICES]
2025-06-13 19:48:29,155 - app.models.base_genre - INFO - ============================================================
2025-06-13 19:48:29,157 - app.models.base_genre - INFO - Successfully parsed genre response: story=3351 chars, choices=3
2025-06-13 19:48:29,157 - app.services.story_planner - INFO - Found [NEW CHARACTERS] section: Name: Shadowy Adversary
Relationship: Antagonist
Role: Mysterious figure challenging Ali's path with dark energy and malevolent intent
2025-06-13 19:48:29,158 - app.services.story_planner - INFO - Extracted character from section: Shadowy Adversary - Antagonist
2025-06-13 19:48:29,158 - app.services.story_planner - INFO - Adding new character: Shadowy Adversary (Antagonist)
2025-06-13 19:48:29,158 - app.services.story_planner - INFO - Memory now has 1 characters: Shadowy Adversary
2025-06-13 19:48:29,158 - app.genres.cultivation_setting - INFO - Extracted characters from story content for Ali
2025-06-13 19:48:29,159 - app.services.story_planner - INFO - Found [NEW CHARACTERS] section: Name: Shadowy Adversary
Relationship: Antagonist
Role: Mysterious figure challenging Ali's path with dark energy and malevolent intent
2025-06-13 19:48:29,159 - app.services.story_planner - INFO - Extracted character from section: Shadowy Adversary - Antagonist
2025-06-13 19:48:29,159 - app.services.story_planner - INFO - Updating character: Shadowy Adversary
2025-06-13 19:48:29,159 - app.services.story_planner - INFO - Memory now has 1 characters: Shadowy Adversary
2025-06-13 19:48:29,159 - app.genres.cultivation_setting - INFO - Extracted characters from story content for Ali
2025-06-13 19:48:29,297 - app.services.firebase_service - INFO - Saved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:29,298 - app.storage.storage - INFO - Saved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:29,298 - app.api - INFO - Saved story with updated characters for Ali
2025-06-13 19:48:29,403 - app.services.firebase_service - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:29,404 - app.storage.storage - INFO - Retrieved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:29,404 - app.storage.storage - INFO - Updated story memory with node node_3343425860
2025-06-13 19:48:29,660 - app.services.firebase_service - INFO - Saved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:29,661 - app.storage.storage - INFO - Saved story story_1749869275_0a94b74e: Ali's cultivation shonen
2025-06-13 19:48:29,661 - app.storage.storage - INFO - Added node node_3343425860 to story story_1749869275_0a94b74e
2025-06-13 19:48:29,859 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:48:29] "POST /api/stories/story_1749869275_0a94b74e/choices/2 HTTP/1.1" 200 -
2025-06-13 19:51:23,445 - werkzeug - INFO -  * Detected change in '/Users/alibabaei/Projects/storyTeller/storyteller-python/app/services/story_planner.py', reloading
2025-06-13 19:51:25,521 - werkzeug - INFO -  * Restarting with stat
2025-06-13 19:51:26,084 - app.services.firebase_service - ERROR - Error initializing with FIREBASE_CREDENTIALS: Invalid control character at: line 1 column 162 (char 161)
2025-06-13 19:51:26,084 - app.services.firebase_service - ERROR - Error initializing with direct credentials: Failed to initialize a certificate credential. Caused by: "Unable to load PEM file. See https://cryptography.io/en/latest/faq/#why-can-t-i-import-my-pem-file for more details. InvalidData(InvalidByte(1600, 61))"
2025-06-13 19:51:26,085 - app.services.firebase_service - ERROR - Error creating temporary service account file: Failed to initialize a certificate credential. Caused by: "Unable to load PEM file. See https://cryptography.io/en/latest/faq/#why-can-t-i-import-my-pem-file for more details. InvalidData(InvalidByte(1600, 61))"
2025-06-13 19:51:26,146 - app.services.firebase_service - INFO - Initialized with default credentials
2025-06-13 19:51:26,201 - app.auth - INFO - Using Firebase Project ID: storyteller-6deea
2025-06-13 19:51:26,201 - app.auth - WARNING - DEVELOPMENT MODE: Using simplified token validation
2025-06-13 19:51:26,205 - root - INFO - Starting StoryTeller API server...
2025-06-13 19:51:26,205 - root - INFO - Host: 0.0.0.0
2025-06-13 19:51:26,205 - root - INFO - Port: 5001
2025-06-13 19:51:26,205 - root - INFO - Debug mode: True
2025-06-13 19:51:26,208 - werkzeug - WARNING -  * Debugger is active!
2025-06-13 19:51:26,214 - werkzeug - INFO -  * Debugger PIN: 143-601-283
2025-06-13 19:52:08,706 - app.services.firebase_service - ERROR - Error initializing with FIREBASE_CREDENTIALS: Invalid control character at: line 1 column 162 (char 161)
2025-06-13 19:52:08,706 - app.services.firebase_service - ERROR - Error initializing with direct credentials: Failed to initialize a certificate credential. Caused by: "Unable to load PEM file. See https://cryptography.io/en/latest/faq/#why-can-t-i-import-my-pem-file for more details. InvalidData(InvalidByte(1600, 61))"
2025-06-13 19:52:08,707 - app.services.firebase_service - ERROR - Error creating temporary service account file: Failed to initialize a certificate credential. Caused by: "Unable to load PEM file. See https://cryptography.io/en/latest/faq/#why-can-t-i-import-my-pem-file for more details. InvalidData(InvalidByte(1600, 61))"
2025-06-13 19:52:08,768 - app.services.firebase_service - INFO - Initialized with default credentials
2025-06-13 19:52:08,810 - app.auth - INFO - Using Firebase Project ID: storyteller-6deea
2025-06-13 19:52:08,810 - app.auth - WARNING - DEVELOPMENT MODE: Using simplified token validation
2025-06-13 19:52:08,814 - root - INFO - Starting StoryTeller API server...
2025-06-13 19:52:08,814 - root - INFO - Host: 0.0.0.0
2025-06-13 19:52:08,814 - root - INFO - Port: 5001
2025-06-13 19:52:08,814 - root - INFO - Debug mode: True
2025-06-13 19:52:08,820 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.0.243:5001
2025-06-13 19:52:08,820 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-13 19:52:08,821 - werkzeug - INFO -  * Restarting with stat
2025-06-13 19:52:09,167 - app.services.firebase_service - ERROR - Error initializing with FIREBASE_CREDENTIALS: Invalid control character at: line 1 column 162 (char 161)
2025-06-13 19:52:09,167 - app.services.firebase_service - ERROR - Error initializing with direct credentials: Failed to initialize a certificate credential. Caused by: "Unable to load PEM file. See https://cryptography.io/en/latest/faq/#why-can-t-i-import-my-pem-file for more details. InvalidData(InvalidByte(1600, 61))"
2025-06-13 19:52:09,168 - app.services.firebase_service - ERROR - Error creating temporary service account file: Failed to initialize a certificate credential. Caused by: "Unable to load PEM file. See https://cryptography.io/en/latest/faq/#why-can-t-i-import-my-pem-file for more details. InvalidData(InvalidByte(1600, 61))"
2025-06-13 19:52:09,230 - app.services.firebase_service - INFO - Initialized with default credentials
2025-06-13 19:52:09,271 - app.auth - INFO - Using Firebase Project ID: storyteller-6deea
2025-06-13 19:52:09,271 - app.auth - WARNING - DEVELOPMENT MODE: Using simplified token validation
2025-06-13 19:52:09,275 - root - INFO - Starting StoryTeller API server...
2025-06-13 19:52:09,275 - root - INFO - Host: 0.0.0.0
2025-06-13 19:52:09,275 - root - INFO - Port: 5001
2025-06-13 19:52:09,275 - root - INFO - Debug mode: True
2025-06-13 19:52:09,277 - werkzeug - WARNING -  * Debugger is active!
2025-06-13 19:52:09,283 - werkzeug - INFO -  * Debugger PIN: 143-601-283
2025-06-13 19:52:11,796 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:52:11] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 19:52:11,799 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:52:11] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 19:52:11,800 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:52:11] "GET /api/status HTTP/1.1" 200 -
2025-06-13 19:52:11,803 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:52:11] "GET /api/status HTTP/1.1" 200 -
2025-06-13 19:52:34,195 - app.services.firebase_service - INFO - Retrieved 0 stories
2025-06-13 19:52:34,197 - app.storage.storage - INFO - Retrieved 0 stories
2025-06-13 19:52:34,198 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:52:34] "OPTIONS /api/stories HTTP/1.1" 200 -
2025-06-13 19:52:34,201 - app.auth - INFO - Authentication successful for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 19:52:34,304 - app.services.firebase_service - INFO - Retrieved 0 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 19:52:34,305 - app.storage.storage - INFO - Retrieved 0 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 19:52:34,530 - app.services.usage_service - INFO - Auto-correcting count for h3GkK3ksTWhz3xeT9h7E4k6Jw7v2: 3 -> 0
2025-06-13 19:52:34,884 - app.services.ai_service - INFO - Generated big story goal: Awaken the memories and powers of your past life to reclaim your former glory and settle unfinished karma.
2025-06-13 19:52:34,885 - app.services.ai_service - INFO - Using cultivation genre for initial story
2025-06-13 19:52:34,885 - app.services.story_planner - INFO - Calculated number of arcs: 7 based on 50 chapters and 7 chapters per arc
2025-06-13 19:52:34,885 - app.services.story_planner - INFO - Found exact match for goal: 'Awaken the memories and powers of your past life to reclaim your former glory and settle unfinished karma.'
2025-06-13 19:52:34,886 - app.services.story_planner - INFO - Generated 7 new arc goals for theme: 'past_life'
2025-06-13 19:52:34,886 - app.genres.cultivation_setting - INFO - Generated 7 arc goals. Initial arc goal: Stop impersonators or rivals claiming your legacy.
2025-06-13 19:52:34,886 - app.genres.cultivation_setting - INFO - Generating cultivation progression story for Ali
2025-06-13 19:52:34,886 - app.models.base_genre - INFO - Generating story for Ali
2025-06-13 19:52:39,625 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-13 19:52:39,631 - app.models.base_genre - INFO - ðŸŽ­ GENRE GPT RESPONSE (2397 chars):
2025-06-13 19:52:39,632 - app.models.base_genre - INFO - ============================================================
2025-06-13 19:52:39,632 - app.models.base_genre - INFO - [STORY]
A serene morning in the cultivation world, the rising sun casting a golden hue over the tranquil mountains. Ali stands at the edge of a cliff, overlooking the vast expanse below, his eyes filled with determination. The wind whispers ancient secrets, carrying the promise of untold power.
---
A sudden rustling in the bushes behind Ali interrupts the peaceful scene. Turning swiftly, Ali sees a figure emerging, clad in a cloak that flutters in the breeze. It's a mysterious stranger, their eyes gleaming with intrigue.
---
"Who dares disturb my meditation?" Ali's voice carries a mix of curiosity and caution, his hand instinctively reaching for the hilt of his sword. The stranger smirks, a mischievous glint in their eyes.
---
"I come with a message, Ali," the stranger announces cryptically, their words hanging in the air like a challenge. Ali's expression hardens, sensing the underlying threat in the stranger's tone. The past whispers of betrayal echoing in his mind.
---
The stranger reveals a scroll, adorned with intricate symbols and glowing faintly with qi. "Impersonators seek to claim your legacy, to tarnish your name," they declare, their words igniting a fire within Ali's soul. Memories of past battles and deception flood his mind, fueling his resolve.
---
With a determined gaze, Ali accepts the scroll, the weight of his past life's legacy heavy upon his shoulders. The path to reclaiming his former glory becomes clearer, each step echoing with the resonance of his past self's power.
---
As the wind picks up, carrying the scent of blooming flowers and the promise of challenges ahead, Ali clasps the scroll tightly, his eyes reflecting a newfound determination to confront the shadows of his past.

[EMOTIONAL DEPTH]
Ali's past life's memories weigh heavily on him, each challenge a reminder of the betrayals he faced. The fear of losing his legacy drives him to seek redemption, his flaw of prideful determination pushing him forward even in the face of uncertainty.

[NEW CHARACTERS]
Name: Mysterious Stranger
Relationship: Unknown
Role: Messenger of ominous tidings

[/STORY]

[CHOICES]
1. Unravel the secrets of the scroll with caution, seeking allies to decipher its message.
2. Confront the impersonators head-on, using your past life's techniques to outmatch them.
3. Retreat to meditate on the scroll's implications, seeking clarity in solitude.

[/CHOICES]
2025-06-13 19:52:39,632 - app.models.base_genre - INFO - ============================================================
2025-06-13 19:52:39,633 - app.models.base_genre - INFO - Successfully parsed genre response: story=2092 chars, choices=3
2025-06-13 19:52:39,634 - app.storage.storage - INFO - Using provided arc goals: 7 goals
2025-06-13 19:52:39,634 - app.storage.storage - INFO - Using provided arc goal: Stop impersonators or rivals claiming your legacy.
2025-06-13 19:52:39,634 - app.storage.storage - INFO - Initialized memory with big goal: 'Awaken the memories and powers of your past life to reclaim your former glory and settle unfinished karma.' and arc goal: 'Stop impersonators or rivals claiming your legacy.'
2025-06-13 19:52:39,634 - app.storage.storage - INFO - Arc progression: 1/7, Chapter: 1/7
2025-06-13 19:52:39,634 - app.storage.storage - INFO - Overall story progress: Chapter 1/50 (2%)
2025-06-13 19:52:39,929 - app.services.firebase_service - INFO - Saved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:39,929 - app.storage.storage - INFO - Saved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:39,930 - app.storage.storage - INFO - Created new story: story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:39,930 - app.services.story_planner - INFO - No [NEW CHARACTERS] section found, using simplified detection
2025-06-13 19:52:40,103 - app.services.firebase_service - INFO - Saved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:40,104 - app.storage.storage - INFO - Saved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:40,104 - app.api - INFO - Extracted characters from initial story content for Ali
2025-06-13 19:52:40,498 - app.services.usage_service - INFO - Updated usage for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 19:52:41,148 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:52:41] "POST /api/stories HTTP/1.1" 200 -
2025-06-13 19:52:41,355 - app.services.firebase_service - INFO - Retrieved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:41,355 - app.storage.storage - INFO - Retrieved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:41,357 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:52:41] "OPTIONS /api/stories/story_1749869559_283521aa HTTP/1.1" 200 -
2025-06-13 19:52:41,575 - app.services.firebase_service - INFO - Retrieved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:41,575 - app.storage.storage - INFO - Retrieved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:41,577 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:52:41] "OPTIONS /api/stories/story_1749869559_283521aa HTTP/1.1" 200 -
2025-06-13 19:52:41,586 - app.services.firebase_service - INFO - Retrieved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:41,587 - app.storage.storage - INFO - Retrieved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:41,588 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:52:41] "GET /api/stories/story_1749869559_283521aa HTTP/1.1" 200 -
2025-06-13 19:52:41,701 - app.services.firebase_service - INFO - Retrieved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:41,701 - app.storage.storage - INFO - Retrieved story story_1749869559_283521aa: Ali's cultivation shonen
2025-06-13 19:52:41,703 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 19:52:41] "GET /api/stories/story_1749869559_283521aa HTTP/1.1" 200 -
2025-06-13 20:15:35,149 - app.services.firebase_service - INFO - Initialized with FIREBASE_CREDENTIALS for project: storyteller-6deea
2025-06-13 20:15:35,210 - app.auth - INFO - Using Firebase Project ID: storyteller-6deea
2025-06-13 20:15:35,210 - app.auth - WARNING - DEVELOPMENT MODE: Using simplified token validation
2025-06-13 20:15:35,214 - root - INFO - Starting StoryTeller API server...
2025-06-13 20:15:35,214 - root - INFO - Host: 0.0.0.0
2025-06-13 20:15:35,214 - root - INFO - Port: 5001
2025-06-13 20:15:35,214 - root - INFO - Debug mode: True
2025-06-13 20:15:35,230 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.0.243:5001
2025-06-13 20:15:35,230 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-13 20:15:35,244 - werkzeug - INFO -  * Restarting with watchdog (fsevents)
2025-06-13 20:15:35,634 - app.services.firebase_service - INFO - Initialized with FIREBASE_CREDENTIALS for project: storyteller-6deea
2025-06-13 20:15:35,660 - app.auth - INFO - Using Firebase Project ID: storyteller-6deea
2025-06-13 20:15:35,660 - app.auth - WARNING - DEVELOPMENT MODE: Using simplified token validation
2025-06-13 20:15:35,663 - root - INFO - Starting StoryTeller API server...
2025-06-13 20:15:35,663 - root - INFO - Host: 0.0.0.0
2025-06-13 20:15:35,663 - root - INFO - Port: 5001
2025-06-13 20:15:35,663 - root - INFO - Debug mode: True
2025-06-13 20:15:35,664 - werkzeug - WARNING -  * Debugger is active!
2025-06-13 20:15:35,672 - werkzeug - INFO -  * Debugger PIN: 770-745-223
2025-06-13 20:15:38,903 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:15:38] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 20:15:38,905 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:15:38] "GET /api/status HTTP/1.1" 200 -
2025-06-13 20:15:38,912 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:15:38] "GET /api/status HTTP/1.1" 200 -
2025-06-13 20:15:55,956 - app.services.firebase_service - INFO - Retrieved 1 stories
2025-06-13 20:15:55,957 - app.storage.storage - INFO - Retrieved 1 stories
2025-06-13 20:15:55,958 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:15:55] "OPTIONS /api/stories HTTP/1.1" 200 -
2025-06-13 20:15:55,962 - app.auth - INFO - Authentication successful for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:15:56,092 - app.services.firebase_service - INFO - Retrieved 1 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:15:56,092 - app.storage.storage - INFO - Retrieved 1 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:15:56,332 - app.services.ai_service - INFO - Generated big story goal: Use your knowledge of a tragic future life to change fate, protect your loved ones, and prevent the fall of your world.
2025-06-13 20:15:56,333 - app.services.ai_service - INFO - Using cultivation genre for initial story
2025-06-13 20:15:56,333 - app.services.story_planner - INFO - Calculated number of arcs: 7 based on 50 chapters and 7 chapters per arc
2025-06-13 20:15:56,333 - app.services.story_planner - INFO - Found exact match for goal: 'Use your knowledge of a tragic future life to change fate, protect your loved ones, and prevent the fall of your world.'
2025-06-13 20:15:56,334 - app.services.story_planner - INFO - Generated 7 new arc goals for theme: 'past_life'
2025-06-13 20:15:56,334 - app.genres.cultivation_setting - INFO - Generated 7 arc goals. Initial arc goal: Strengthen your family's influence by introducing new techniques.
2025-06-13 20:15:56,334 - app.genres.cultivation_setting - INFO - Generating cultivation progression story for Ali
2025-06-13 20:15:56,334 - app.models.base_genre - INFO - Generating story for Ali
2025-06-13 20:16:04,119 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-13 20:16:04,124 - app.models.base_genre - INFO - ðŸŽ­ GENRE GPT RESPONSE (2168 chars):
2025-06-13 20:16:04,124 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:16:04,125 - app.models.base_genre - INFO - [STORY]
In the bustling streets of Xian City, Ali, a young cultivator with a mysterious aura, walks with purpose. His eyes, filled with determination, scan the surroundings, absorbing the vibrant energy of the qi flowing through the air.

---
As Ali passes a small herbal shop, a loud crash startles him. A hooded figure bumps into an elderly man, causing his precious herbs to scatter on the ground. The figure grins wickedly, unfazed by the chaos.

---
Ali steps forward, his voice calm but firm, "Apologize for your carelessness." The hooded figure scoffs, "Who are you to command me?" Tension crackles in the air as they lock gazes, each emanating a different kind of qi.

---
Emotionally Reflective Moment: Ali remembers his past life's humility and the consequences of arrogance, fueling his resolve to stand against injustice.

---
The figure sneers, "You'll regret crossing me." With a swift movement, he unleashes a burst of dark qi, aiming it at Ali. But Ali's swift reflexes deflect the attack effortlessly.

---
As the spectators gasp in amazement, Ali counters with a unique technique, "Flowing Mist Palm." A swirling mist of qi envelops the figure, disorienting him and leaving him vulnerable.

---
The figure stumbles back, his arrogance replaced by fear. "How... What is this technique?" he stammers, awestruck by Ali's mastery.

---
With a steady gaze, Ali offers a hand to the elderly man, helping him gather his herbs. "Strength lies not in power alone but in using it wisely," he remarks, leaving the figure in awe and the crowd murmuring about his exceptional skill.

---
[NEW CHARACTERS]
Name: Lin Feng
Relationship: Potential ally intrigued by Ali's unique techniques
Sect: None (Independent cultivator)
Role: Curious wanderer seeking powerful cultivation techniques

[/NEW CHARACTERS]

[CHOICES]
1. Share your cultivation insights with Lin Feng, hoping to gain a strong ally in your quest.
2. Keep your techniques secret and bid farewell to the onlookers, choosing to continue your cultivation journey alone.
3. Confront the hooded figure, demanding an explanation for his actions and potentially uncovering a hidden threat to the city's peace.
2025-06-13 20:16:04,126 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:16:04,127 - app.models.base_genre - INFO - Successfully parsed genre response: story=1809 chars, choices=3
2025-06-13 20:16:04,128 - app.storage.storage - INFO - Using provided arc goals: 7 goals
2025-06-13 20:16:04,128 - app.storage.storage - INFO - Using provided arc goal: Strengthen your family's influence by introducing new techniques.
2025-06-13 20:16:04,128 - app.storage.storage - INFO - Initialized memory with big goal: 'Use your knowledge of a tragic future life to change fate, protect your loved ones, and prevent the fall of your world.' and arc goal: 'Strengthen your family's influence by introducing new techniques.'
2025-06-13 20:16:04,128 - app.storage.storage - INFO - Arc progression: 1/7, Chapter: 1/7
2025-06-13 20:16:04,128 - app.storage.storage - INFO - Overall story progress: Chapter 1/50 (2%)
2025-06-13 20:16:04,286 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:04,287 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:04,287 - app.storage.storage - INFO - Created new story: story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:04,288 - app.services.story_planner - INFO - Found [NEW CHARACTERS] section: Name: Lin Feng
Relationship: Potential ally intrigued by Ali's unique techniques
Sect: None (Independent cultivator)
Role: Curious wanderer seeking powerful cultivation techniques
2025-06-13 20:16:04,288 - app.services.story_planner - INFO - Extracted character from section: Lin Feng - Potential ally intrigued by Ali's unique techniques
2025-06-13 20:16:04,289 - app.services.story_planner - INFO - Adding new character: Lin Feng (Potential ally intrigued by Ali's unique techniques)
2025-06-13 20:16:04,289 - app.services.story_planner - INFO - Memory now has 1 characters: Lin Feng
2025-06-13 20:16:04,448 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:04,449 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:04,449 - app.api - INFO - Extracted characters from initial story content for Ali
2025-06-13 20:16:04,680 - app.services.usage_service - INFO - Updated usage for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:16:04,990 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:16:04] "POST /api/stories HTTP/1.1" 200 -
2025-06-13 20:16:05,196 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:05,197 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:05,198 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:16:05] "OPTIONS /api/stories/story_1749870964_3bb48412 HTTP/1.1" 200 -
2025-06-13 20:16:05,204 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:05,205 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:05,206 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:16:05] "OPTIONS /api/stories/story_1749870964_3bb48412 HTTP/1.1" 200 -
2025-06-13 20:16:05,296 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:05,296 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:05,298 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:16:05] "GET /api/stories/story_1749870964_3bb48412 HTTP/1.1" 200 -
2025-06-13 20:16:05,416 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:05,417 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:05,418 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:16:05] "GET /api/stories/story_1749870964_3bb48412 HTTP/1.1" 200 -
2025-06-13 20:16:29,002 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:16:29] "OPTIONS /api/stories/story_1749870964_3bb48412/choices/2 HTTP/1.1" 200 -
2025-06-13 20:16:29,005 - app.auth - INFO - Authentication successful for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:16:29,108 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:29,109 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:29,417 - app.services.usage_service - INFO - Updated usage for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:16:29,521 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:29,522 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:29,728 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:29,728 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:29,729 - app.storage.storage - INFO - Saved choice 2 for node initial in story story_1749870964_3bb48412
2025-06-13 20:16:29,729 - app.api - INFO - Generating continuation for story story_1749870964_3bb48412, choice 2
2025-06-13 20:16:29,729 - app.api - INFO - Character: Ali, Setting: cultivation
2025-06-13 20:16:29,729 - app.api - INFO - Selected choice: 'Keep your techniques secret and bid farewell to the onlookers, choosing to continue your cultivation journey alone.'
2025-06-13 20:16:29,729 - app.services.ai_service - INFO - Memory before processing - chapters_completed: 0, current_arc_index: 0, chapters_per_arc: 7
2025-06-13 20:16:29,729 - app.services.ai_service - INFO - Memory arcs: 7 arcs total
2025-06-13 20:16:29,729 - app.services.ai_service - INFO - Current arc: 'Strengthen your family's influence by introducing new techniques.'
2025-06-13 20:16:29,729 - app.services.ai_service - INFO - Chapter 1 of arc 'Strengthen your family's influence by introducing new techniques.' completed
2025-06-13 20:16:29,729 - app.services.ai_service - INFO - Using cultivation genre for story continuation
2025-06-13 20:16:29,729 - app.services.ai_service - INFO - Using big story goal for cultivation continuation: Use your knowledge of a tragic future life to change fate, protect your loved ones, and prevent the fall of your world.
2025-06-13 20:16:29,730 - app.genres.cultivation_setting - INFO - Continuing cultivation progression story for Ali with style: shonen
2025-06-13 20:16:29,730 - app.models.base_genre - INFO - Generating story for Ali
2025-06-13 20:16:36,375 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-13 20:16:36,379 - app.models.base_genre - INFO - ðŸŽ­ GENRE GPT RESPONSE (2337 chars):
2025-06-13 20:16:36,379 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:16:36,380 - app.models.base_genre - INFO - [STORY]
The decision to keep his techniques secret weighs on Ali's mind as he bids farewell to the impressed onlookers. As he turns to leave, a shadow falls over him, and a voice calls out, "Impressive display, young cultivator."

Startled, Ali faces Lin Feng, a potential ally intrigued by his unique techniques. Lin Feng's eyes gleam with curiosity, a spark of recognition igniting between them.

Before Ali can respond, a group of cultivators from a nearby sect approaches, their leader eyeing Ali with a mix of suspicion and interest. "I am Master Zhou, from the Celestial Dragon Sect," he announces, his voice commanding respect. "We have heard tales of your prowess. Show us what you're truly capable of."

Caught off guard by the sudden challenge, Ali takes a moment to assess the situation. Drawing on his past life's knowledge, he decides to demonstrate a technique that will hint at his true potential without revealing everything.

With a deep breath, Ali channels his qi, manifesting a radiant golden aura around him. He unleashes a series of graceful movements, each accompanied by a burst of energy that illuminates the area. The crowd watches in awe as the air shimmers with his power, the technique named "Golden Phoenix Dance."

Master Zhou's expression shifts from skepticism to intrigue as he witnesses Ali's mastery over his qi. "Impressive," he concedes, nodding in approval. "You have potential, young one. Perhaps there is more to your family's influence than meets the eye."

As the Celestial Dragon Sect members disperse, Ali meets Lin Feng's gaze, a silent understanding passing between them. The choice to keep his techniques hidden has opened doors to new opportunities and alliances, paving the way for further growth and influence.

Emotionally Reflective Moment: Ali's decision to reveal a glimpse of his true power while still maintaining secrecy reflects his past life's lesson on strategic maneuvering and the importance of guarding critical knowledge.

---

[CHOICES]
1. Share your cultivation insights with Lin Feng, forging a potential alliance to exchange techniques and knowledge.
2. Seek out Master Zhou privately to learn more about the Celestial Dragon Sect and explore potential collaboration.
3. Continue your journey alone, focusing on honing your skills in secret without external influence.
2025-06-13 20:16:36,380 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:16:36,380 - app.models.base_genre - INFO - Successfully parsed genre response: story=1993 chars, choices=3
2025-06-13 20:16:36,380 - app.services.story_planner - INFO - No [NEW CHARACTERS] section found, using simplified detection
2025-06-13 20:16:36,381 - app.services.story_planner - INFO - Found 1 potential characters with simple detection
2025-06-13 20:16:36,381 - app.services.story_planner - INFO - Adding new character: Zhou (Unknown)
2025-06-13 20:16:36,381 - app.genres.cultivation_setting - INFO - Extracted characters from story content for Ali
2025-06-13 20:16:36,382 - app.services.story_planner - INFO - No [NEW CHARACTERS] section found, using simplified detection
2025-06-13 20:16:36,382 - app.genres.cultivation_setting - INFO - Extracted characters from story content for Ali
2025-06-13 20:16:36,528 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:36,528 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:36,529 - app.api - INFO - Saved story with updated characters for Ali
2025-06-13 20:16:36,629 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:36,629 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:36,630 - app.storage.storage - INFO - Updated story memory with node node_791001552
2025-06-13 20:16:36,775 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:36,776 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:16:36,776 - app.storage.storage - INFO - Added node node_791001552 to story story_1749870964_3bb48412
2025-06-13 20:16:36,982 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:16:36] "POST /api/stories/story_1749870964_3bb48412/choices/2 HTTP/1.1" 200 -
2025-06-13 20:17:14,281 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:17:14] "OPTIONS /api/stories/story_1749870964_3bb48412/choices/1 HTTP/1.1" 200 -
2025-06-13 20:17:14,285 - app.auth - INFO - Authentication successful for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:17:14,391 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:14,391 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:14,746 - app.services.usage_service - INFO - Updated usage for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:17:14,853 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:14,854 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:14,981 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:14,981 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:14,982 - app.storage.storage - INFO - Saved choice 1 for node node_791001552 in story story_1749870964_3bb48412
2025-06-13 20:17:14,982 - app.api - INFO - Generating continuation for story story_1749870964_3bb48412, choice 1
2025-06-13 20:17:14,982 - app.api - INFO - Character: Ali, Setting: cultivation
2025-06-13 20:17:14,983 - app.api - INFO - Selected choice: 'Share your cultivation insights with Lin Feng, forging a potential alliance to exchange techniques and knowledge.'
2025-06-13 20:17:14,983 - app.services.ai_service - INFO - Memory before processing - chapters_completed: 1, current_arc_index: 0, chapters_per_arc: 7
2025-06-13 20:17:14,983 - app.services.ai_service - INFO - Memory arcs: 7 arcs total
2025-06-13 20:17:14,983 - app.services.ai_service - INFO - Current arc: 'Strengthen your family's influence by introducing new techniques.'
2025-06-13 20:17:14,983 - app.services.ai_service - INFO - Chapter 2 of arc 'Strengthen your family's influence by introducing new techniques.' completed
2025-06-13 20:17:14,983 - app.services.ai_service - INFO - Using cultivation genre for story continuation
2025-06-13 20:17:14,983 - app.services.ai_service - INFO - Using big story goal for cultivation continuation: Use your knowledge of a tragic future life to change fate, protect your loved ones, and prevent the fall of your world.
2025-06-13 20:17:14,983 - app.genres.cultivation_setting - INFO - Continuing cultivation progression story for Ali with style: shonen
2025-06-13 20:17:14,984 - app.models.base_genre - INFO - Generating story for Ali
2025-06-13 20:17:18,934 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-13 20:17:18,938 - app.models.base_genre - INFO - ðŸŽ­ GENRE GPT RESPONSE (2478 chars):
2025-06-13 20:17:18,938 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:17:18,938 - app.models.base_genre - INFO - [STORY]
The golden aura around Ali slowly dissipates, leaving a sense of reverence in the air. Lin Feng's eyes widen in amazement, admiration clear in his expression. "That was astounding, Ali. Your control over qi is truly remarkable," he praises, a genuine smile crossing his face.

Ali nods, his heart lighter from sharing his insights. "Thank you, Lin Feng. I believe that together, we can achieve even greater heights in our cultivation journeys."

As they converse, a messenger arrives, delivering an invitation from the Celestial Dragon Sect. Master Zhou requests Ali's presence at their grand tournament, intrigued by the potential he has displayed. Ali accepts with a determined gleam in his eyes, seeing this as an opportunity to showcase his family's influence.

Arriving at the sect, Ali is met with curious gazes and whispered conversations. Master Zhou stands at the center of the training grounds, a faint smile playing on his lips. "Show us what you have learned, Ali. Let your techniques speak for your family's legacy."

With a deep breath, Ali begins to demonstrate a new technique he recently developed, the "Crimson Serpent Strike." His qi takes on a crimson hue, coiling around his body like a serpent as he strikes with precision and speed.

The crowd gasps in awe at the display of power, recognizing the unique nature of Ali's techniques. Master Zhou nods in approval, his eyes reflecting a newfound respect. "You have indeed brought something fresh and innovative to the cultivation world, Ali. Your family's influence is growing stronger with each new technique you introduce."

Emotional Reflection:
Ali's willingness to share his cultivation insights and techniques with Lin Feng and the Celestial Dragon Sect not only strengthens his relationships but also opens up new opportunities for growth and recognition. His past life's lesson on strategic alliances and the power of collective knowledge resonates with him in this moment of progress and acceptance.

---
[CHOICES]
1. Enter into a sparring match with a senior disciple of the Celestial Dragon Sect to further showcase your techniques and test your skills.
2. Engage in a friendly discussion with Master Zhou to learn more about the sect's history and cultivation techniques, aiming to deepen your understanding and connections.
3. Offer to teach a group of junior disciples a basic cultivation technique, showcasing your willingness to share knowledge and build camaraderie within the sect.
2025-06-13 20:17:18,939 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:17:18,939 - app.models.base_genre - INFO - Successfully parsed genre response: story=1995 chars, choices=3
2025-06-13 20:17:18,939 - app.services.story_planner - INFO - No [NEW CHARACTERS] section found, using simplified detection
2025-06-13 20:17:18,939 - app.genres.cultivation_setting - INFO - Extracted characters from story content for Ali
2025-06-13 20:17:18,939 - app.services.story_planner - INFO - No [NEW CHARACTERS] section found, using simplified detection
2025-06-13 20:17:18,940 - app.genres.cultivation_setting - INFO - Extracted characters from story content for Ali
2025-06-13 20:17:19,075 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:19,076 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:19,076 - app.api - INFO - Saved story with updated characters for Ali
2025-06-13 20:17:19,225 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:19,226 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:19,226 - app.storage.storage - INFO - Updated story memory with node node_824300316
2025-06-13 20:17:19,389 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:19,390 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:19,390 - app.storage.storage - INFO - Added node node_824300316 to story story_1749870964_3bb48412
2025-06-13 20:17:19,584 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:17:19] "POST /api/stories/story_1749870964_3bb48412/choices/1 HTTP/1.1" 200 -
2025-06-13 20:17:56,915 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:17:56] "OPTIONS /api/stories/story_1749870964_3bb48412/choices/1 HTTP/1.1" 200 -
2025-06-13 20:17:56,918 - app.auth - INFO - Authentication successful for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:17:57,072 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:57,072 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:57,395 - app.services.usage_service - INFO - Updated usage for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:17:57,507 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:57,507 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:57,654 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:57,655 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:17:57,655 - app.storage.storage - INFO - Saved choice 1 for node node_824300316 in story story_1749870964_3bb48412
2025-06-13 20:17:57,656 - app.api - INFO - Generating continuation for story story_1749870964_3bb48412, choice 1
2025-06-13 20:17:57,656 - app.api - INFO - Character: Ali, Setting: cultivation
2025-06-13 20:17:57,656 - app.api - INFO - Selected choice: 'Enter into a sparring match with a senior disciple of the Celestial Dragon Sect to further showcase your techniques and test your skills.'
2025-06-13 20:17:57,656 - app.services.ai_service - INFO - Memory before processing - chapters_completed: 2, current_arc_index: 0, chapters_per_arc: 7
2025-06-13 20:17:57,656 - app.services.ai_service - INFO - Memory arcs: 7 arcs total
2025-06-13 20:17:57,656 - app.services.ai_service - INFO - Current arc: 'Strengthen your family's influence by introducing new techniques.'
2025-06-13 20:17:57,656 - app.services.ai_service - INFO - Chapter 3 of arc 'Strengthen your family's influence by introducing new techniques.' completed
2025-06-13 20:17:57,656 - app.services.ai_service - INFO - Using cultivation genre for story continuation
2025-06-13 20:17:57,656 - app.services.ai_service - INFO - Using big story goal for cultivation continuation: Use your knowledge of a tragic future life to change fate, protect your loved ones, and prevent the fall of your world.
2025-06-13 20:17:57,657 - app.genres.cultivation_setting - INFO - Continuing cultivation progression story for Ali with style: shonen
2025-06-13 20:17:57,657 - app.models.base_genre - INFO - Generating story for Ali
2025-06-13 20:18:01,123 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-13 20:18:01,127 - app.models.base_genre - INFO - ðŸŽ­ GENRE GPT RESPONSE (2300 chars):
2025-06-13 20:18:01,127 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:18:01,127 - app.models.base_genre - INFO - [STORY]
The senior disciple of the Celestial Dragon Sect steps forward, his aura imposing and his eyes sharp with intent. "Let's see if your techniques are as impressive as they appear, outsider," he challenges, a hint of arrogance in his tone. Ali meets his gaze with unwavering determination, ready to prove himself.

---
As the bout commences, the senior disciple moves with lightning speed, his qi manifesting as a shimmering blue light around him. Ali counters with the Crimson Serpent Strike, his qi weaving in intricate patterns of crimson, reminiscent of a coiling serpent. The clash of energies creates a dazzling display of colors, captivating the onlookers.

---
The disciple's attacks are fierce and precise, pushing Ali to his limits. Despite the pressure, Ali remains focused, drawing on his past life's combat experience to predict the disciple's movements. With a swift dodge and a calculated strike, Ali manages to land a direct hit, surprising both the disciple and the spectators.

---
The crowd erupts into whispers and gasps, impressed by Ali's strategic prowess and adaptability in combat. Master Zhou watches with a knowing smile, recognizing the potential in Ali's unconventional techniques. "You have indeed brought a fresh perspective to our sect, Ali. Your family's influence is not to be underestimated," he comments, his voice carrying a tone of approval.

---
Emotional Reflection:
As Ali faces the senior disciple in combat, his past life's memories of strategic battles and foresight guide his every move. The thrill of victory and the recognition of his unique techniques fuel his determination to continue expanding his family's influence through innovation and skill.

[NEW CHARACTERS]
Name: Senior Disciple (Unnamed)
Relationship: Combatant
Sect: Celestial Dragon Sect
Role: Senior disciple challenging Ali in a sparring match
[/NEW CHARACTERS]

[CHOICES]
1. Request to learn a new cultivation technique from the Celestial Dragon Sect, demonstrating humility and a willingness to grow.
2. Engage in a friendly post-match discussion with the senior disciple, seeking to build camaraderie and exchange insights.
3. Approach Master Zhou to discuss potential collaborations in developing new techniques, aiming to further strengthen family influence through alliances.
2025-06-13 20:18:01,128 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:18:01,128 - app.models.base_genre - INFO - Successfully parsed genre response: story=1885 chars, choices=3
2025-06-13 20:18:01,128 - app.services.story_planner - INFO - Found [NEW CHARACTERS] section: Name: Senior Disciple (Unnamed)
Relationship: Combatant
Sect: Celestial Dragon Sect
Role: Senior disciple challenging Ali in a sparring match
2025-06-13 20:18:01,128 - app.services.story_planner - INFO - Extracted character from section: Senior Disciple (Unnamed) - Combatant
2025-06-13 20:18:01,128 - app.services.story_planner - WARNING - Invalid character name: 'Senior Disciple (Unnamed)' - contains invalid characters
2025-06-13 20:18:01,129 - app.services.story_planner - INFO - Memory now has 2 characters: Lin Feng, Zhou
2025-06-13 20:18:01,129 - app.genres.cultivation_setting - INFO - Extracted characters from story content for Ali
2025-06-13 20:18:01,129 - app.services.story_planner - INFO - Found [NEW CHARACTERS] section: Name: Senior Disciple (Unnamed)
Relationship: Combatant
Sect: Celestial Dragon Sect
Role: Senior disciple challenging Ali in a sparring match
2025-06-13 20:18:01,129 - app.services.story_planner - INFO - Extracted character from section: Senior Disciple (Unnamed) - Combatant
2025-06-13 20:18:01,129 - app.services.story_planner - WARNING - Invalid character name: 'Senior Disciple (Unnamed)' - contains invalid characters
2025-06-13 20:18:01,129 - app.services.story_planner - INFO - Memory now has 2 characters: Lin Feng, Zhou
2025-06-13 20:18:01,129 - app.genres.cultivation_setting - INFO - Extracted characters from story content for Ali
2025-06-13 20:18:01,308 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:01,309 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:01,309 - app.api - INFO - Saved story with updated characters for Ali
2025-06-13 20:18:01,441 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:01,441 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:01,442 - app.storage.storage - INFO - Updated story memory with node node_2319592881
2025-06-13 20:18:01,633 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:01,634 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:01,634 - app.storage.storage - INFO - Added node node_2319592881 to story story_1749870964_3bb48412
2025-06-13 20:18:01,856 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:18:01] "POST /api/stories/story_1749870964_3bb48412/choices/1 HTTP/1.1" 200 -
2025-06-13 20:18:31,569 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:18:31] "OPTIONS /api/stories/story_1749870964_3bb48412/choices/3 HTTP/1.1" 200 -
2025-06-13 20:18:31,571 - app.auth - INFO - Authentication successful for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:18:31,715 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:31,715 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:32,034 - app.services.usage_service - INFO - Updated usage for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:18:32,286 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:32,287 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:32,509 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:32,510 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:32,510 - app.storage.storage - INFO - Saved choice 3 for node node_2319592881 in story story_1749870964_3bb48412
2025-06-13 20:18:32,510 - app.api - INFO - Generating continuation for story story_1749870964_3bb48412, choice 3
2025-06-13 20:18:32,510 - app.api - INFO - Character: Ali, Setting: cultivation
2025-06-13 20:18:32,510 - app.api - INFO - Selected choice: 'Approach Master Zhou to discuss potential collaborations in developing new techniques, aiming to further strengthen family influence through alliances.'
2025-06-13 20:18:32,511 - app.services.ai_service - INFO - Memory before processing - chapters_completed: 3, current_arc_index: 0, chapters_per_arc: 7
2025-06-13 20:18:32,511 - app.services.ai_service - INFO - Memory arcs: 7 arcs total
2025-06-13 20:18:32,511 - app.services.ai_service - INFO - Current arc: 'Strengthen your family's influence by introducing new techniques.'
2025-06-13 20:18:32,511 - app.services.ai_service - INFO - Chapter 4 of arc 'Strengthen your family's influence by introducing new techniques.' completed
2025-06-13 20:18:32,511 - app.services.ai_service - INFO - Using cultivation genre for story continuation
2025-06-13 20:18:32,512 - app.services.ai_service - INFO - Using big story goal for cultivation continuation: Use your knowledge of a tragic future life to change fate, protect your loved ones, and prevent the fall of your world.
2025-06-13 20:18:32,512 - app.genres.cultivation_setting - INFO - Continuing cultivation progression story for Ali with style: shonen
2025-06-13 20:18:32,512 - app.models.base_genre - INFO - Generating story for Ali
2025-06-13 20:18:36,104 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-13 20:18:36,107 - app.models.base_genre - INFO - ðŸŽ­ GENRE GPT RESPONSE (2538 chars):
2025-06-13 20:18:36,107 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:18:36,107 - app.models.base_genre - INFO - [STORY]
As Ali approaches Master Zhou, the seasoned cultivator nods in acknowledgement, his eyes reflecting a hint of intrigue. "Ah, Ali, I see the fire of innovation burning within you. Speak your mind," Master Zhou encourages, his voice carrying a sense of anticipation.

---

With a deep breath, Ali begins discussing his ideas for new cultivation techniques, incorporating elements from his past life's knowledge. He describes a technique called the Shadow Phoenix Dance, where qi mimics the fluid movement of a phoenix in flight, combining grace with lethal precision. Master Zhou listens intently, nodding occasionally as Ali elaborates on the intricate details.

---

Impressed by Ali's creativity, Master Zhou shares insights on refining the Shadow Phoenix Dance, suggesting modifications to enhance its defensive capabilities. The exchange of ideas flows smoothly, each suggestion building upon the other, creating a synergy of innovation and tradition within the Celestial Dragon Sect.

---

Emotional Reflection:
Ali feels a sense of validation and pride as Master Zhou acknowledges his ideas, blending the wisdom of the past with the ingenuity of the future. The collaboration sparks a newfound determination in Ali to continue pushing the boundaries of cultivation and securing his family's influence through groundbreaking techniques.

---

Master Zhou's eyes gleam with satisfaction as the discussion concludes, a rare smile gracing his features. "Ali, your vision is as bold as your techniques. Let us work together to refine the Shadow Phoenix Dance and unveil it to the sect," he proposes, extending a hand in partnership. Ali clasps his hand firmly, a sense of camaraderie and shared purpose strengthening their bond.

---

As they part ways to begin their collaborative cultivation, a shadowy figure observes from a distance, their expression unreadable. The mysterious onlooker lingers for a moment before disappearing into the shadows, leaving an air of intrigue in their wake.

---

[NEW CHARACTERS]
Name: Shadowy Figure
Relationship: Unknown Observer
Sect: N/A
Role: Mysterious Onlooker, Potential Intriguing Character
[/NEW CHARACTERS]
[/STORY]

[CHOICES]
1. Seek out Lin Feng to discuss incorporating his unique techniques into the collaboration with Master Zhou.
2. Train intensively on the Shadow Phoenix Dance technique alone to perfect its execution before presenting it to the sect.
3. Investigate the identity and intentions of the shadowy figure who observed the collaboration with Master Zhou.
[/CHOICES]
2025-06-13 20:18:36,108 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:18:36,108 - app.models.base_genre - INFO - Successfully parsed genre response: story=2152 chars, choices=3
2025-06-13 20:18:36,108 - app.services.story_planner - INFO - Found [NEW CHARACTERS] section: Name: Shadowy Figure
Relationship: Unknown Observer
Sect: N/A
Role: Mysterious Onlooker, Potential Intriguing Character
2025-06-13 20:18:36,108 - app.services.story_planner - INFO - Extracted character from section: Shadowy Figure - Unknown Observer
2025-06-13 20:18:36,108 - app.services.story_planner - INFO - Adding new character: Shadowy Figure (Unknown Observer)
2025-06-13 20:18:36,108 - app.services.story_planner - INFO - Memory now has 3 characters: Lin Feng, Zhou, Shadowy Figure
2025-06-13 20:18:36,108 - app.genres.cultivation_setting - INFO - Extracted characters from story content for Ali
2025-06-13 20:18:36,108 - app.services.story_planner - INFO - Found [NEW CHARACTERS] section: Name: Shadowy Figure
Relationship: Unknown Observer
Sect: N/A
Role: Mysterious Onlooker, Potential Intriguing Character
2025-06-13 20:18:36,109 - app.services.story_planner - INFO - Extracted character from section: Shadowy Figure - Unknown Observer
2025-06-13 20:18:36,109 - app.services.story_planner - INFO - Updating character: Shadowy Figure
2025-06-13 20:18:36,109 - app.services.story_planner - INFO - Memory now has 3 characters: Lin Feng, Zhou, Shadowy Figure
2025-06-13 20:18:36,109 - app.genres.cultivation_setting - INFO - Extracted characters from story content for Ali
2025-06-13 20:18:36,270 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:36,270 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:36,270 - app.api - INFO - Saved story with updated characters for Ali
2025-06-13 20:18:36,387 - app.services.firebase_service - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:36,388 - app.storage.storage - INFO - Retrieved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:36,388 - app.storage.storage - INFO - Updated story memory with node node_3963593941
2025-06-13 20:18:36,517 - app.services.firebase_service - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:36,517 - app.storage.storage - INFO - Saved story story_1749870964_3bb48412: Ali's cultivation shonen
2025-06-13 20:18:36,517 - app.storage.storage - INFO - Added node node_3963593941 to story story_1749870964_3bb48412
2025-06-13 20:18:36,698 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:18:36] "POST /api/stories/story_1749870964_3bb48412/choices/3 HTTP/1.1" 200 -
2025-06-13 20:20:36,124 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:20:36] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 20:20:36,126 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:20:36] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 20:20:36,127 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:20:36] "GET /api/status HTTP/1.1" 200 -
2025-06-13 20:20:36,128 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:20:36] "GET /api/status HTTP/1.1" 200 -
2025-06-13 20:23:08,911 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:23:08] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 20:23:08,913 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:23:08] "OPTIONS /api/status HTTP/1.1" 200 -
2025-06-13 20:23:08,914 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:23:08] "GET /api/status HTTP/1.1" 200 -
2025-06-13 20:23:08,915 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:23:08] "GET /api/status HTTP/1.1" 200 -
2025-06-13 20:24:28,151 - app.services.firebase_service - INFO - Retrieved 2 stories
2025-06-13 20:24:28,153 - app.storage.storage - INFO - Retrieved 2 stories
2025-06-13 20:24:28,153 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:28] "OPTIONS /api/stories HTTP/1.1" 200 -
2025-06-13 20:24:28,158 - app.auth - INFO - Authentication successful for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:24:28,318 - app.services.firebase_service - INFO - Retrieved 2 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:24:28,319 - app.storage.storage - INFO - Retrieved 2 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:24:28,548 - app.services.ai_service - INFO - Generated big story goal: Use your knowledge of a tragic future life to change fate, protect your loved ones, and prevent the fall of your world.
2025-06-13 20:24:28,549 - app.services.ai_service - INFO - Using cultivation genre for initial story
2025-06-13 20:24:28,549 - app.services.story_planner - INFO - Calculated number of arcs: 7 based on 50 chapters and 7 chapters per arc
2025-06-13 20:24:28,549 - app.services.story_planner - INFO - Found exact match for goal: 'Use your knowledge of a tragic future life to change fate, protect your loved ones, and prevent the fall of your world.'
2025-06-13 20:24:28,549 - app.services.story_planner - INFO - Generated 7 new arc goals for theme: 'past_life'
2025-06-13 20:24:28,550 - app.genres.cultivation_setting - INFO - Generated 7 arc goals. Initial arc goal: Strengthen your family's influence by introducing new techniques.
2025-06-13 20:24:28,550 - app.genres.cultivation_setting - INFO - Generating cultivation progression story for ali
2025-06-13 20:24:28,550 - app.models.base_genre - INFO - Generating story for ali
2025-06-13 20:24:32,811 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-13 20:24:32,814 - app.models.base_genre - INFO - ðŸŽ­ GENRE GPT RESPONSE (2736 chars):
2025-06-13 20:24:32,814 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:24:32,814 - app.models.base_genre - INFO - [STORY]
Ali stood at the outskirts of the bustling cultivation city of Linoria, a place filled with powerful sects and talented cultivators. Despite his weak background and lack of resources, Ali was determined to make a name for himself and protect his loved ones from the tragic future he knew awaited them. With knowledge of what was to come, he was driven to change fate and defy expectations.

---
A small, mischievous-looking creature, a Qi-Lee, scurried past Ali, causing a commotion and drawing the attention of a passing cultivator. The cultivator, intrigued by the Qi-Lee's antics, approached Ali with a curious smile, "Looks like you've made a new friend there, young cultivator."

Ali chuckled nervously, trying to keep the Qi-Lee from causing more trouble. "Just a little troublemaker I came across," he replied, trying to downplay the situation.

---
As the cultivator observed Ali's interactions with the Qi-Lee, a sudden gust of wind swept through the area, carrying with it a faint aroma of blooming flowers. The cultivator's eyes lit up with recognition, "Ah, the Fragrant Blossom Qi Technique. A rare and beautiful cultivation method. Have you mastered it, young one?"

Ali hesitated, knowing he hadn't even begun to grasp the basics of the Fragrant Blossom Qi Technique. He nodded, trying to maintain his composure, "I've just started exploring its depths. It's quite complex, but I'm determined to master it."

---
The cultivator's smile widened, impressed by Ali's dedication. "Persistence is key in cultivation. Keep at it, and you'll see progress sooner than you think." With a friendly pat on Ali's shoulder, the cultivator continued on his way, leaving Ali with a newfound determination to strengthen his family's influence through new techniques.

---
Emotional Reflection: Ali remembered the days of endless training and failure, where he had to rely on his wits and unconventional methods to make even the smallest improvements. Those struggles had forged his determination to defy fate and protect those he cared about, no matter the odds.

---

[NEW CHARACTERS]
Name: Qi-Lee
Relationship: Curious acquaintance
Role: Mischievous creature causing trouble for Ali

Name: Unnamed Cultivator
Relationship: Passing acquaintance
Sect: Unknown
Role: Knowledgeable cultivator impressed by Ali's commitment to cultivation
[/NEW CHARACTERS]

[/STORY]

[CHOICES]
1. Follow the Qi-Lee to explore where it leads, risking distraction from your cultivation goals.
2. Seek out the Fragrant Blossom Qi Technique manual to deepen your understanding, potentially unlocking its secrets.
3. Approach the cultivator for guidance on mastering the Fragrant Blossom Qi Technique, risking revealing your lack of progress.
[/CHOICES]
2025-06-13 20:24:32,814 - app.models.base_genre - INFO - ============================================================
2025-06-13 20:24:32,814 - app.models.base_genre - INFO - Successfully parsed genre response: story=2352 chars, choices=3
2025-06-13 20:24:32,815 - app.storage.storage - INFO - Using provided arc goals: 7 goals
2025-06-13 20:24:32,815 - app.storage.storage - INFO - Using provided arc goal: Strengthen your family's influence by introducing new techniques.
2025-06-13 20:24:32,815 - app.storage.storage - INFO - Initialized memory with big goal: 'Use your knowledge of a tragic future life to change fate, protect your loved ones, and prevent the fall of your world.' and arc goal: 'Strengthen your family's influence by introducing new techniques.'
2025-06-13 20:24:32,815 - app.storage.storage - INFO - Arc progression: 1/7, Chapter: 1/7
2025-06-13 20:24:32,815 - app.storage.storage - INFO - Overall story progress: Chapter 1/50 (2%)
2025-06-13 20:24:32,952 - app.services.firebase_service - INFO - Saved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:32,953 - app.storage.storage - INFO - Saved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:32,953 - app.storage.storage - INFO - Created new story: story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:32,953 - app.services.story_planner - INFO - Found [NEW CHARACTERS] section: Name: Qi-Lee
Relationship: Curious acquaintance
Role: Mischievous creature causing trouble for Ali

Name: Unnamed Cultivator
Relationship: Passing acquaintance
Sect: Unknown
Role: Knowledgeable cultivator impressed by Ali's commitment to cultivation
2025-06-13 20:24:32,954 - app.services.story_planner - INFO - Extracted character from section: Qi-Lee - Curious acquaintance
2025-06-13 20:24:32,954 - app.services.story_planner - WARNING - Invalid character name: 'Qi-Lee' - contains invalid characters
2025-06-13 20:24:32,954 - app.services.story_planner - INFO - Extracted character from section: Unnamed Cultivator - Passing acquaintance
2025-06-13 20:24:32,954 - app.services.story_planner - INFO - Adding new character: Unnamed Cultivator (Passing acquaintance)
2025-06-13 20:24:32,954 - app.services.story_planner - INFO - Memory now has 1 characters: Unnamed Cultivator
2025-06-13 20:24:33,098 - app.services.firebase_service - INFO - Saved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:33,099 - app.storage.storage - INFO - Saved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:33,099 - app.api - INFO - Extracted characters from initial story content for ali
2025-06-13 20:24:33,326 - app.services.usage_service - INFO - Updated usage for user: h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:24:33,636 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:33] "POST /api/stories HTTP/1.1" 200 -
2025-06-13 20:24:33,845 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:33,846 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:33,847 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:33] "OPTIONS /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:33,856 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:33,857 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:33,857 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:33] "OPTIONS /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:33,956 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:33,957 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:33,958 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:33] "GET /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:34,059 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:34,059 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:34,060 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:34] "GET /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:44,022 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:44,023 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:44,024 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:44] "OPTIONS /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:44,075 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:44,076 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:44,077 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:44] "OPTIONS /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:44,133 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:44,134 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:44,136 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:44] "GET /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:44,241 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:44,242 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:44,243 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:44] "GET /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:56,569 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:56,571 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:56,572 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:56] "OPTIONS /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:56,626 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:56,626 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:56,628 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:56] "OPTIONS /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:56,696 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:56,696 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:56,698 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:56] "GET /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:56,804 - app.services.firebase_service - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:56,804 - app.storage.storage - INFO - Retrieved story story_1749871472_23e18936: ali's cultivation comedy
2025-06-13 20:24:56,805 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:56] "GET /api/stories/story_1749871472_23e18936 HTTP/1.1" 200 -
2025-06-13 20:24:59,901 - app.services.firebase_service - INFO - Retrieved 3 stories
2025-06-13 20:24:59,901 - app.storage.storage - INFO - Retrieved 3 stories
2025-06-13 20:24:59,902 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:59] "OPTIONS /api/stories HTTP/1.1" 200 -
2025-06-13 20:24:59,941 - app.services.firebase_service - INFO - Retrieved 3 stories
2025-06-13 20:24:59,942 - app.storage.storage - INFO - Retrieved 3 stories
2025-06-13 20:24:59,943 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:24:59] "OPTIONS /api/stories HTTP/1.1" 200 -
2025-06-13 20:25:00,054 - app.services.firebase_service - INFO - Retrieved 3 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:25:00,055 - app.storage.storage - INFO - Retrieved 3 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:25:00,056 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:25:00] "GET /api/stories HTTP/1.1" 200 -
2025-06-13 20:25:00,181 - app.services.firebase_service - INFO - Retrieved 3 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:25:00,181 - app.storage.storage - INFO - Retrieved 3 stories for user h3GkK3ksTWhz3xeT9h7E4k6Jw7v2
2025-06-13 20:25:00,182 - werkzeug - INFO - 127.0.0.1 - - [13/Jun/2025 20:25:00] "GET /api/stories HTTP/1.1" 200 -
