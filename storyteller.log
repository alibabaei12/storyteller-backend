2025-06-06 20:04:16,390 - test - INFO - Testing improved logging system
2025-06-06 20:21:00,025 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.0.243:5001
2025-06-06 20:21:00,026 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-06 20:21:00,026 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:25:43,427 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:25:59,274 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:26:49,354 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:26:57,175 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:27:43,161 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:27:46,082 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:28:15,942 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:29:31,186 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:29:34,017 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:29:40,626 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:30:00,302 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:30:10,051 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:30:11,780 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:30:22,395 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:30:30,009 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:30:32,610 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:30:48,265 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:31:45,455 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:31:59,321 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:34:33,934 - app.ai_service - INFO - Generating initial story for Alex in fantasy setting, manga genre: None
2025-06-06 20:34:36,979 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 20:34:36,982 - app.ai_service - INFO - Generated initial story: 1205 chars and 3 choices
2025-06-06 20:34:45,632 - app.ai_service - INFO - Generating initial story for Chen in cultivation setting, manga genre: cultivation_progression
2025-06-06 20:34:45,632 - app.base_genre - INFO - Generating story for Chen
2025-06-06 20:34:48,864 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 20:35:04,039 - app.ai_service - INFO - Generating initial story for Alex in fantasy setting, manga genre: None
2025-06-06 20:35:07,257 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 20:35:07,266 - app.base_genre - WARNING - Story parsing failed: No [CHOICES] section found in response
2025-06-06 20:35:07,267 - app.ai_service - WARNING - Initial story parsing failed, retrying: Failed to parse story response: No [CHOICES] section found in response
2025-06-06 20:35:07,267 - app.ai_service - INFO - Retrying initial story generation with enhanced formatting for Alex
2025-06-06 20:35:09,784 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 20:35:09,797 - app.base_genre - WARNING - Story parsing failed: No [CHOICES] section found in response
2025-06-06 20:35:09,797 - app.ai_service - ERROR - Initial story retry failed: Failed to parse story response: No [CHOICES] section found in response
2025-06-06 20:35:09,797 - app.ai_service - INFO - Created initial story fallback for Alex in fantasy setting
2025-06-06 20:35:18,836 - app.ai_service - INFO - Generating initial story for Alex in fantasy setting, manga genre: None
2025-06-06 20:35:22,472 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 20:35:22,475 - app.ai_service - INFO - Generated initial story: 1449 chars and 3 choices
2025-06-06 20:35:31,537 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.0.243:5001
2025-06-06 20:35:31,537 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-06 20:35:31,538 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:36:06,433 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:36:17,198 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:36:25,162 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:36:34,853 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:36:43,605 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:36:58,382 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:37:12,259 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:37:22,032 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:37:31,724 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:37:41,373 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:41:44,389 - app.ai_service - INFO - Generating initial story for Luna in fantasy setting, manga genre: fantasy_adventure
2025-06-06 20:41:44,389 - app.genres.fantasy_adventure - INFO - Generating fantasy adventure story for Luna
2025-06-06 20:41:44,389 - app.base_genre - INFO - Generating story for Luna
2025-06-06 20:41:47,441 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 20:41:47,467 - app.base_genre - WARNING - Story parsing failed: No [CHOICES] section found in response
2025-06-06 20:41:47,468 - app.base_genre - WARNING - Parsing attempt 1 failed: Failed to parse story response: No [CHOICES] section found in response
2025-06-06 20:41:47,468 - app.base_genre - INFO - Retry attempt 1 for Luna
2025-06-06 20:41:48,471 - app.base_genre - INFO - Generating story for Luna
2025-06-06 20:41:51,496 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 20:41:51,500 - app.base_genre - WARNING - Story parsing failed: No [CHOICES] section found in response
2025-06-06 20:41:51,501 - app.base_genre - WARNING - Parsing attempt 2 failed: Failed to parse story response: No [CHOICES] section found in response
2025-06-06 20:41:51,501 - app.base_genre - INFO - Retry attempt 2 for Luna
2025-06-06 20:41:52,503 - app.base_genre - INFO - Generating story for Luna
2025-06-06 20:41:54,332 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 20:41:54,351 - app.base_genre - WARNING - Story parsing failed: No [STORY] or [CHOICES] markers found in response
2025-06-06 20:41:54,351 - app.base_genre - WARNING - Parsing attempt 3 failed: Failed to parse story response: No [STORY] or [CHOICES] markers found in response
2025-06-06 20:41:54,351 - app.base_genre - INFO - Retry attempt 3 for Luna
2025-06-06 20:41:55,352 - app.base_genre - INFO - Generating story for Luna
2025-06-06 20:41:58,142 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 20:41:58,143 - app.base_genre - INFO - Retry successful on attempt 3
2025-06-06 20:41:58,143 - app.ai_service - INFO - Generating initial story for Marcus in academy setting, manga genre: academy_magic
2025-06-06 20:41:58,143 - app.genres.academy_magic - INFO - Generating academy magic story for Marcus
2025-06-06 20:41:58,143 - app.base_genre - INFO - Generating story for Marcus
2025-06-06 20:42:02,226 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-06 20:53:22,566 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:54:40,779 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:55:02,700 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:55:34,087 - werkzeug - INFO -  * Restarting with stat
2025-06-06 20:59:27,113 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:03:11,914 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:11:31,853 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:11:43,668 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:12:11,558 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:17:34,122 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:27:08,588 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:28:01,748 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:29:18,125 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:30:06,369 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:31:02,595 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:31:52,706 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:51:37,512 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.0.243:5001
2025-06-06 21:51:37,513 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-06 21:51:37,513 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:53:34,044 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:58:03,096 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:58:21,033 - werkzeug - INFO -  * Restarting with stat
2025-06-06 21:58:40,916 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:05:30,963 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:05:47,813 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:07:23,253 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:09:52,295 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:10:00,084 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:10:11,817 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:10:37,706 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:14:03,204 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:15:04,497 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:17:13,290 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:20:02,550 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:20:25,467 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:20:29,199 - werkzeug - INFO -  * Restarting with stat
2025-06-06 22:28:45,163 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.0.243:5001
2025-06-06 22:28:45,163 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-06 22:28:45,164 - werkzeug - INFO -  * Restarting with stat
2025-06-06 23:18:17,160 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.0.243:5001
2025-06-06 23:18:17,160 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-06 23:18:17,160 - werkzeug - INFO -  * Restarting with stat
2025-06-06 23:22:04,156 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://10.0.0.243:5001
2025-06-06 23:22:04,156 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-06-06 23:22:04,157 - werkzeug - INFO -  * Restarting with stat
